"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let spoiler__content=document.getElementById("menu");function slideToggle(e,t=500){return"none"===window.getComputedStyle(e).display?slideDown(e,t):slideUp(e,t)}function slideUp(e,t=500){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}function slideDown(e,t=500){e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="inline-flex"),e.style.display=o;let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}document.querySelector(".head__burger").addEventListener("click",(function(){document.querySelector(".head__burger span").classList.toggle("active"),spoiler__content=document.getElementById("menu"),slideToggle(spoiler__content)}));let ratings=document.querySelectorAll(".rating");function initRatings(){let e,t;for(let e=0;e<ratings.length;e++){o(ratings[e])}function o(e){n(e),r(),e.classList.contains("rating__set")&&function(e){let o=e.querySelectorAll(".rating__item");for(let l=0;l<o.length;l++){let s=o[l];s.addEventListener("mouseenter",(function(t){n(e),r(s.value)})),s.addEventListener("mouseleave",(function(e){r()})),s.addEventListener("click",(function(o){n(e),e.dataset.ajax?i(s.value,e):(t.innerHTML=l+1,r())}))}}(e)}function n(o){e=o.querySelector(".rating__active"),t=o.querySelector(".rating__value")}function r(o=t.innerHTML){let n=o/.05;e.style.width=`${n}%`}async function i(e,o){if(!o.classList.contains("rating__sanding")){o.classList.add("rating__sanding");let e=await fetch("rating.json",{});if(e.ok){let o=await e.json(),n=o.newRating,i=o.votes;document.querySelector(".rating__vote").innerHTML=`(${i})`,t.innerHTML=n,r()}else o.classList.remove("rating_sending")}}}function slider(){document.querySelector(".previews").addEventListener("click",(function(e){if("IMG"===e.target.tagName){let o=document.querySelector(".large__image source"),n=e.target.parentNode.parentNode.parentNode,r=document.querySelectorAll(".preview");for(let e=0;e<r.length;e++)r[e].classList.remove("activeImg");n.classList.add("activeImg");let l=e.srcElement.currentSrc;o.srcset=l,"flex"==t.style.display&&i()}}));let e=document.getElementById("myImg"),t=document.getElementById("myModal"),o=document.querySelector(".my__img source"),n=document.querySelector(".modal__img source"),r=document.querySelector(".zoom");function i(){t.style.display="flex",n.srcset=o.srcset}document.documentElement.clientWidth>870&&(e.onclick=i,r.onclick=i,t.onclick=()=>{t.style.display="none"})}function openCatalog(){document.querySelector(".header__catalog span").addEventListener("click",(function(){document.querySelector(".header__catalog").classList.toggle("active"),document.querySelector(".header__product").classList.toggle("active"),document.querySelector(".header__product-professional").classList.remove("active")})),document.querySelector(".catalog__professional").addEventListener("click",(function(){document.querySelector(".header__product-professional").classList.add("active")})),document.querySelector(".catalog__home").addEventListener("click",(function(){document.querySelector(".header__product").classList.add("active"),document.querySelector(".header__product-professional").classList.remove("active")}))}ratings.length>0&&initRatings(),console.log(document.documentElement.clientWidth),openCatalog(),slider();